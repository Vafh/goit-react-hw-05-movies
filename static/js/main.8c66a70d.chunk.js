(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[0],{53:function(e,t,c){},54:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c(14),a=c.n(r),s=c(20),i=c(9),o=c(2),u=c(26),l=(c(31),c(8)),j=c.n(l),b=c(11),h="https://api.themoviedb.org/3";function d(){return(d=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/trending/movie/week?api_key=2497cc3d1941bf2f5c8a3541a4d85ed3"));case 2:if(!(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="Error";case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/movie/").concat(t,"?api_key=2497cc3d1941bf2f5c8a3541a4d85ed3&language=en-US"));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="Error";case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/movie/").concat(t,"/credits?api_key=2497cc3d1941bf2f5c8a3541a4d85ed3&language=en-US"));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="Error";case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/movie/").concat(t,"/reviews?api_key=2497cc3d1941bf2f5c8a3541a4d85ed3&language=en-US"));case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="Error";case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return(m=Object(b.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t?fetch("".concat(h,"/search/movie?&api_key=2497cc3d1941bf2f5c8a3541a4d85ed3&query=").concat(t,"&language=en-US&page=1&include_adult=false")):"";case 2:if(!(c=e.sent).ok){e.next=9;break}return e.next=6,c.json();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="Error";case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=c(7),g=c(1),k=function(e){var t=e.goBack,c=Object(o.f)();return Object(g.jsx)("button",{onClick:function(){c.push(t||"/")},type:"button",children:Object(g.jsx)("span",{children:"Go back"})})},w=function(e){var t,c=e.img,n=e.authors;return n&&(null===(t=n.cast)||void 0===t?void 0:t.map((function(e){return Object(g.jsxs)("li",{children:[e.name,Object(g.jsxs)("p",{children:["Character: ",e.character]}),e.profile_path&&Object(g.jsx)("img",{className:"movieCard",src:"".concat(c,"/").concat(e.profile_path),alt:""})]},e.cast_id)})))},y=function(e){var t,c,n=e.reviews;return console.log(n),0!==(null===n||void 0===n||null===(t=n.results)||void 0===t?void 0:t.length)?null===n||void 0===n||null===(c=n.results)||void 0===c?void 0:c.map((function(e){return Object(g.jsxs)("li",{children:["Author: ",e.author,Object(g.jsx)("p",{children:e.content})]},e.id)})):Object(g.jsx)("li",{children:Object(g.jsx)("p",{children:"We dont have any reviews for this movies."})})},_=function(){var e,t=Object(o.h)().filmsId,c=Object(n.useState)(null),r=Object(i.a)(c,2),a=r[0],s=r[1],u=Object(n.useState)(null),l=Object(i.a)(u,2),j=l[0],b=l[1],h=Object(n.useState)(null),d=Object(i.a)(h,2),x=d[0],m=d[1],_=Object(n.useState)(null),S=Object(i.a)(_,2),N=S[0],C=S[1],F=Object(o.g)(),E="https://image.tmdb.org/t/p/w200";Object(n.useEffect)((function(){(function(e){return f.apply(this,arguments)})(t).then(s),function(e){return p.apply(this,arguments)}(t).then(b),function(e){return O.apply(this,arguments)}(t).then(m)}),[t]),console.log(a),Object(n.useEffect)((function(){var e;F.state&&(null===(e=F.state)||void 0===e?void 0:e.from)&&C(F.state.from)}),[F.state]);var I=Object(o.i)(),q=N;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{goBack:q}),a&&Object(g.jsxs)(g.Fragment,{children:[a.poster_path&&Object(g.jsx)("img",{className:"movieCard",src:"".concat(E,"/").concat(a.poster_path),alt:""}),Object(g.jsxs)("h3",{children:[a.title,"(",(new Date).getFullYear(a.release_date),")"]}),Object(g.jsxs)("p",{children:["Vote average: ",10*a.vote_average,"%"]}),Object(g.jsx)("h4",{children:"Overview"}),Object(g.jsx)("p",{children:a.overview}),Object(g.jsxs)("ul",{children:["Genres",null===(e=a.genres)||void 0===e?void 0:e.map((function(e){return Object(g.jsx)("li",{children:e.name},e.id)}))]}),Object(g.jsx)("hr",{}),Object(g.jsxs)("ul",{children:["Additional information",j&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(v.b,{to:"".concat(I.url,"/cast"),children:Object(g.jsx)("li",{children:"Cast"})}),Object(g.jsx)(v.b,{to:"".concat(I.url,"/reviews"),children:Object(g.jsx)("li",{children:"Reviews"})})]})]}),Object(g.jsx)("hr",{}),Object(g.jsx)("ul",{children:Object(g.jsx)(o.a,{path:"".concat(I.url,"/cast"),children:Object(g.jsx)(w,{img:E,authors:j})})}),Object(g.jsx)("ul",{children:Object(g.jsx)(o.a,{path:"".concat(I.url,"/reviews"),children:Object(g.jsx)(y,{reviews:x})})})]})]})},S=function(e){var t=e.filmTrend,c=Object(o.g)();return console.log(t),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:"Tranding"}),Object(g.jsx)("ul",{children:t.map((function(e){return Object(g.jsx)(v.b,{to:{pathname:"/films/".concat(e.id),state:{from:c}},children:Object(g.jsx)("li",{children:e.original_title},e.id)},e.id)}))}),Object(g.jsx)("hr",{})]})},N=c(25),C=c.n(N),F=function(){var e,t=Object(n.useState)(""),c=Object(i.a)(t,2),r=c[0],a=c[1],s=Object(n.useState)(""),u=Object(i.a)(s,2),l=u[0],j=u[1],b=Object(o.g)(),h=Object(o.f)(),d=Object(o.i)();Object(n.useEffect)((function(){var e=C.a.parse(b.search);e.query&&x(e.query).then(j),console.log(e.query)}),[b.search]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:"Movies"}),Object(g.jsx)("label",{children:Object(g.jsx)("input",{value:r,onChange:function(e){a(e.currentTarget.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search Movies"})}),Object(g.jsx)("button",{onClick:function(e){e.preventDefault(),x(r).then(j),h.push("".concat(d.url,"?query=").concat(r))},type:"button",className:"SearchForm-button",children:Object(g.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(g.jsx)("ul",{className:"ImageGallery",children:null===l||void 0===l||null===(e=l.results)||void 0===e?void 0:e.map((function(e){return Object(g.jsx)(v.b,{to:{pathname:"/films/".concat(e.id),state:{from:b}},children:Object(g.jsxs)("li",{className:"ImageGalleryItem",children:[e.poster_path&&Object(g.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500","/").concat(e.poster_path),alt:"",className:"ImageGalleryItem-image"}),e.original_title||e.name]},e.id)},e.id)}))})]})},E=function(){return Object(g.jsxs)("nav",{children:[Object(g.jsx)(v.c,{exact:!0,activeClassName:"activeNavLink",className:"navLink",to:"/",children:"Home"}),Object(g.jsx)(v.c,{className:"navLink",to:"/films",activeClassName:"activeNavLink",children:"Movies"}),Object(g.jsx)("hr",{})]})};function I(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){(function(){return d.apply(this,arguments)})().then((function(e){return r((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.results))}))}))}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(E,{}),Object(g.jsxs)(o.c,{children:[Object(g.jsx)(o.a,{exact:!0,path:"/",children:Object(g.jsx)(S,{filmTrend:c})}),Object(g.jsx)(o.a,{exact:!0,path:"/films",children:Object(g.jsx)(F,{})}),Object(g.jsx)(o.a,{path:"/films/:filmsId",children:Object(g.jsx)(_,{})})]}),Object(g.jsx)(u.a,{})]})}c(53);a.a.render(Object(g.jsx)(v.a,{children:Object(g.jsx)(I,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.8c66a70d.chunk.js.map